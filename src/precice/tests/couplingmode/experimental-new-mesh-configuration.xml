<?xml version="1.0"?>

<precice-configuration>
   <log-filter target="debug" component="" switch="off"/>
   <log-filter target="info"  component="" switch="on"/>

      <solver-interface dimensions="3">   
      <data:vector name="AcousticPressures"/>
      <data:vector name="AcousticVelocities"/>
   
      <mesh name="AcousticSurfaceFASTEST">
         <use-data name="AcousticPressures"/>
         <use-data name="AcousticVelocities"/>
      </mesh>
      <mesh name="AcousticPressuresSurfaceAPEs">
         <use-data name="AcousticPressures"/>   
      </mesh>
      <mesh name="AcousticVelocitiesSurfaceAPEs">
         <use-data name="AcousticVelcoties"/>   
      </mesh>
      
      <participant name="FASTEST">
         <use-mesh name="AcousticSurfaceFASTEST" provide="yes"/>
      </participant>
      
      <participant name="APEs">
         <use-mesh name="AcousticSurfaceFASTEST"/>
         <use-mesh name="AcousticPressuresSurfaceAPEs" provide="yes"/>
         <use-mesh name="AcousticVelocitiesSurfaceAPEs" provide="yes"/>
         <mapping:rbf-thin-plate-splines 
            from="AcousticSurfaceFASTEST" to="AcousticPressuresSurfaceAPEs"
            constraint="consistent" timing="initial"/>
         <mapping:rbf-thin-plate-splines
            from="AcousticSurfaceFASTEST" to="AcousticVelocitiesSurfaceAPEs"
            constraint="consistent" timing="initial"/>
      </participant>
      
      <communication:sockets from="FASTEST" to="APEs"/>
      
      <coupling-scheme:explicit> 
         <participants first="FASTEST" second="APEs"/> 
         <max-timesteps value="10" />
         <timestep-length value="0.001" />
         <exchange data="AcousticPressures"  mesh="AcousticSurface" from="FASTEST"/>
         <exchange data="AcousticVelocities" mesh="AcousticSurface" from="FASTEST"/>
      </coupling-scheme:explicit>
   </solver-interface>
</precice-configuration>


<!-- Case with matching meshes -->
<precice-configuration>
   <log-filter target="debug" component="" switch="off"/>
   <log-filter target="info"  component="" switch="on"/>

      <solver-interface dimensions="3">   
      <data:vector name="AcousticPressures"/>
      <data:vector name="AcousticVelocities"/>
   
      <mesh name="AcousticSurfaceFASTEST">
         <use-data name="AcousticPressures"/>
         <use-data name="AcousticVelocities"/>
      </mesh>
      <mesh name="AcousticSurfaceAPEs">
         <use-data name="AcousticPressures"/>
         <use-data name="AcousticVelocities"/>
      </mesh>
      
      <participant name="FASTEST">
         <use-mesh name="AcousticSurfaceFASTEST" provide="yes"/>
      </participant>
      
      <participant name="APEs">
         <use-mesh name="AcousticSurfaceFASTEST"/>
         <use-mesh name="AcousticSurfaceAPEs" provide="yes"/>
         <mapping:matching at="read" from="AcousticSurfaceFASTEST"
                           to="AcousticSurfaceAPEs"/>
      </participant>
      
      <communication:sockets from="FASTEST" to="APEs"/>
      
      <coupling-scheme:explicit> 
         <participants first="FASTEST" second="APEs"/> 
         <max-timesteps value="10" />
         <timestep-length value="0.001" />
         <exchange data="AcousticPressures"  mesh="AcousticSurface" from="FASTEST"/>
         <exchange data="AcousticVelocities" mesh="AcousticSurface" from="FASTEST"/>
      </coupling-scheme:explicit>
   </solver-interface>
</precice-configuration>
